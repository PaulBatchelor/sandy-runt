.TH SANDY 1 sandy\-VERSION
.SH NAME
sandy \- simple ncurses text editor
.SH SYNOPSIS
.B sandy
.RB [ \-hruS ]
.RB [ \-t
.IR tabstop ]
.RB [ \-s
.IR syntax ]
.RI [ file |\-]
.SH DESCRIPTION
sandy is a simple ncurses text editor.  It loads and saves files and lets you
perform basic editing and pipe the selection through arbitrary commands.
A small degree of external control can be achieved by writing to a named pipe.
.SH OPTIONS
.TP
.B \-h
Prints usage information to stderr, then exits.
.TP
.B \-r
Opens the selected file read\-only.
.TP
.BI \-s " syntax"
Manually choose the syntax colors.
.TP
.B \-S
Use no syntax colors at all.
.TP
.BI \-t " tabstop"
Use selected tabstop in characters.
.TP
.B \-v
Prints version information to stderr, then exits.
.SH USAGE
The default key\-bindings try to stick to the "emacs\-mode" present in modern
shells (specifically
.IR mksh (1)),
which actually differs a bit from what
.IR emacs (1)
does.  External input is handled using
.IR dmenu (1)
if the DISPLAY environment variable is set, read using
.IR sh (1)
otherwise.  Similarly, X11 clipboard interaction occurs through
.IR xsel (1)
if DISPLAY is set, using a hidden file in the HOME directory otherwise.
.SS Cursor movement
Cursor movement bindings can also be used to select text by pressing Ctrl\-g to
start a selection (see below)
.TP
.BR Ctrl\-f " or " Right
Move cursor to next char.
.TP
.BR Ctrl\-b " or " Left
Move cursor to previous char.
.TP
.BR Ctrl\-n " or " Down
Move cursor to next line.
.TP
.BR Ctrl\-p " or " Up
Move cursor to previous line.
.TP
.BR Meta\-f " or " Shift\-Right
Move cursor to the end of this or next word.
.TP
.BR Meta\-b " or " Shift\-Left
Move cursor to the start of this or previous word.
.TP
.BR Ctrl\-a " or " Home
Move cursor to the beginning of the current line.
.TP
.BR Ctrl\-e " or " End
Move cursor to the end of the current line.
.TP
.BR Ctrl\-v " or " Prev
Move cursor one full screen up.
.TP
.BR Met\-v " or " Next
Move cursor one full screen down.
.TP
.BR Shift\-Home
Move cursor to the beginning of the file.
.TP
.BR Shift\-End
Move cursor to the end of the file.
.SS Finding and selecting
Text is searched and selected using POSIX regular expressions
.TP
.B Ctrl\-s
Prompt for a search regex forward or if there is a selection, repeat search
forward.
.TP
.B Meta\-s
Repeat search forward.
.TP
.B Ctrl\-r
Prompt for a search regex backwards or if there is a selection, repeat
search backwards.
.TP
.B Meta\-r
Repeat search backwards.
.TP
.B Ctrl\-\]
Extend selection to word, line, or full file from current.
.TP
.B Ctrl\-g
Cancel selection, or start selecting text manually.
.TP
.B Ctrl\-o
Move to the opposite size of the selection, usually to extend it.
.SS Deleting
If any text is selected, any of these bindings deletes it and, unless Backspace
or Delete, moves it to the clipboard.  Otherwise they behave as per this text.
In read\-only mode, these bindings select text instead.
.TP
.BR Ctrl\-d " or " Delete
Delete next character.
.TP
.BR Ctrl\-h " or " Backspace
Delete previous character.
.TP
.B Ctrl\-u
Delete to beginning of line or join with previous line.
.TP
.B Ctrl\-k
Delete to end of line or join with next line.
.TP
.B Ctrl\-w
Delete to beginning of word or previous word.
.TP
.B Meta\-d
Delete to end of word or next word.
.TP
.BR Ctrl\-Space " or " Ctrl\-`
Set mark in current position.
Go to mark.  Prepend with Ctrl\-g to select to mark.
.SS File operations
.TP
.BR Ctrl\-c
Quit if the file has not been modified. Repeat to quit unconditionally.
.TP
.B Ctrl\-x
Write changes to disk or quit if the file is not modified.
.SS Text operations
These operations affect the selected text if any.
.TP
.B Ctrl\-\e
Prompt for a command to pipe text through.
.TP
.B Meta\-c
Capitalize selection.
.TP
.B Meta\-l
Lowercase selection.
.TP
.B Meta\-u
Uppercase selection.
.TP
.BR Ctrl\-y " or " Shift\-Insert
Replace (paste, yank) with text from the clipboard.
.TP
.BR Ctrl\-t " or " Insert
Copy to the clipboard.
.TP
.B Shift\-Delete
Copy to the clipboard and delete.
.SS Other
.TP
.B Ctrl\-l
Center screen in current line, refresh.
.TP
.B Ctrl\-q
Insert next character as\-is.
.TP
.B Ctrl\-z
Suspend editor to shell.
.TP
.BR Ctrl\-[ " or " Esc
Prompt for command.
.SH SEE ALSO
.IR dmenu (1),
.IR xsel (1)
.SH BUGS
Please report them!
